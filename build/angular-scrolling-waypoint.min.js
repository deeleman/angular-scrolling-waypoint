!function(e){"use strict";e.module("scrollingWaypoint",[]).directive("whenScrolledToThis",["$window",function(i){return{scope:{scrollingCompleteHandler:"&",isEnabled:"&",initializeOnClick:"="},restrict:"AE",replace:"false",transclude:!0,link:function(n,l,t){var o=t.onTriggerClass||"infinite-scroll-triggered",r=!1;n.$watch("initializeOnClick",function(e){r=e});var c=function(e){n.scrollingCompleteHandler&&n.scrollingCompleteHandler(e),t.scrollingCompleteEvent&&n.$emit(t.scrollingCompleteEvent,e),l.addClass(o)};l.bind("click",function(e){r=!1,c(e)}),e.element(i).bind("scroll",function(e){if(n.isEnabled()){var t=l[0].offsetTop+l[0].offsetHeight-i.innerHeight;i.pageYOffset>=t?r||c(e):l.removeClass(o)}})}}}])}(angular);